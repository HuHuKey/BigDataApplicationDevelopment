<div class="dashboard" id="dashboard">
  <h1>电商销售可视化分析系统</h1>
  <div class="stats" id="stats">
    <!-- 数据将从MongoDB加载 -->
  </div>
  <div class="charts">
    <div class="chart-item">
      <h3>各省份销售额（单位：万元）</h3>
      <div id="bar-chart" class="chart"></div>
    </div>
    <div class="chart-item">
      <h3>销售趋势分析</h3>
      <div id="line-chart" class="chart"></div>
    </div>
    <div class="chart-item">
      <h3>销售渠道占比</h3>
      <div id="pie-chart" class="chart"></div>
    </div>
  </div>
  <div class="summary" id="summary">
    <!-- 数据将从MongoDB加载 -->
  </div>
</div>

<style>
  .dashboard {
    background-color: #0a1f44;
    color: #fff;
    font-family: 'Arial', sans-serif;
    padding: 20px;
    border-radius: 10px;
  }
  .stats, .charts, .summary {
    display: flex;
    justify-content: space-around;
    margin-bottom: 20px;
  }
  .stat-item, .chart-item, .summary-item {
    background-color: #112d5c;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    width: 20%;
  }
  .chart {
    height: 200px;
    background-color: #1b3a6f;
    border-radius: 8px;
  }
</style>

<script>
  // 使用jQuery从MongoDB获取数据并更新界面
  $(document).ready(function() {
    $.ajax({
      url: '/api/getDashboardData', // 假设的API端点
      method: 'GET',
      success: function(data) {
        // 更新统计数据
        $('#stats').html(`
                    <div class="stat-item">
                        <h2>销售总额</h2>
                        <p>${data.totalSales} 元</p>
                    </div>
                    <div class="stat-item">
                        <h2>总成本</h2>
                        <p>${data.totalCost} 元</p>
                    </div>
                    <div class="stat-item">
                        <h2>利润总额</h2>
                        <p>${data.totalProfit} 元</p>
                    </div>
                    <div class="stat-item">
                        <h2>净利润</h2>
                        <p>${data.netProfit} 元</p>
                    </div>
                `);

        // 更新总结数据
        $('#summary').html(`
                    <div class="summary-item">
                        <h4>订单总数</h4>
                        <p>${data.totalOrders}</p>
                    </div>
                    <div class="summary-item">
                        <h4>退货数</h4>
                        <p>${data.returns}</p>
                    </div>
                    <div class="summary-item">
                        <h4>客户数</h4>
                        <p>${data.customers}</p>
                    </div>
                    <div class="summary-item">
                        <h4>访问量</h4>
                        <p>${data.visits}</p>
                    </div>
                    <div class="summary-item">
                        <h4>浏览量</h4>
                        <p>${data.pageViews}</p>
                    </div>
                    <div class="summary-item">
                        <h4>用户数</h4>
                        <p>${data.users}</p>
                    </div>
                `);
      },
      error: function(error) {
        console.error('获取数据失败', error);
      }
    });
  });
</script>
